# Basic .htaccess for Monastery Healthcare System
# Simplified configuration to avoid server errors

# Enable mod_rewrite
RewriteEngine On

# Prevent direct access to configuration files
<Files "config.php">
    Require all denied
</Files>

<Files "*.sql">
    Require all denied
</Files>

# Prevent access to .htaccess file itself
<Files ".htaccess">
    Require all denied
</Files>

# Security Headers (if mod_headers is available)
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header always set X-Content-Type-Options "nosniff"
    Header always set X-XSS-Protection "1; mode=block"
</IfModule>

# Protect sensitive files
<FilesMatch "\.(htaccess|htpasswd|ini|log|sh|inc|bak|sql)$">
    Require all denied
</FilesMatch>

# Basic URL rewriting for clean URLs
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.php [NC,L]

# Prevent direct access to includes directory
RewriteRule ^includes/ - [F,L]